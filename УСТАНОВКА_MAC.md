# üçé –£—Å—Ç–∞–Ω–æ–≤–∫–∞ ebook2audiobook –Ω–∞ macOS

## –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ (–æ–¥–∏–Ω –∫–ª–∏–∫)

–ü—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
cd ~/ebook2audiobookfork && ./ebook2audiobook.sh
```

**–í–æ—Ç –∏ –≤—Å—ë!** –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã —á–µ—Ä–µ–∑ Homebrew
- –°–æ–∑–¥–∞—Å—Ç Python –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ó–∞–ø—É—Å—Ç–∏—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ http://localhost:7860

---

## –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ?

### 1Ô∏è‚É£ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Homebrew
–ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Homebrew (–º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ –¥–ª—è macOS), —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –µ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

### 2Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º
–ë—É–¥—É—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
- **Calibre** - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö –∫–Ω–∏–≥
- **FFmpeg** - –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—É–¥–∏–æ
- **espeak-ng** - TTS –¥–≤–∏–∂–æ–∫
- **sox** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–≤—É–∫–∞
- **tesseract** - OCR –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö PDF
- **cmake, pkg-config, cargo** - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **llvm@15** - –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä (–¥–ª—è Apple Silicon –∏ Intel)

### 3Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Miniforge3
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è conda –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Python –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞).

### 4Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **Python 3.12** –¥–ª—è Apple Silicon (M1/M2/M3/M4)
- **Python 3.11** –¥–ª—è Intel Mac

### 5Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –±–∏–±–ª–∏–æ—Ç–µ–∫
–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–∑ requirements.txt:
- PyTorch (—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π MPS –¥–ª—è Apple Silicon)
- Coqui TTS (–¥–≤–∏–∂–æ–∫ –¥–ª—è —Å–∏–Ω—Ç–µ–∑–∞ —Ä–µ—á–∏)
- Gradio (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
- –ò –¥—Ä—É–≥–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

---

## ‚è±Ô∏è –í—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏

**–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫**: 15-30 –º–∏–Ω—É—Ç (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞)
**–ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—É—Å–∫–∏**: 10-20 —Å–µ–∫—É–Ω–¥

---

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
```bash
cd ~/ebook2audiobookfork
./ebook2audiobook.sh
```

–ó–∞—Ç–µ–º –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: **http://localhost:7860**

### –ó–∞–ø—É—Å–∫ —Å –ø—É–±–ª–∏—á–Ω–æ–π —Å—Å—ã–ª–∫–æ–π
```bash
./ebook2audiobook.sh --share
```
–ü–æ–ª—É—á–∏—Ç–µ —Å—Å—ã–ª–∫—É –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ —Å –ª—é–±–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

### –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ (–±–µ–∑ GUI)
```bash
./ebook2audiobook.sh --headless \
  --ebook "–ø—É—Ç—å/–∫/–∫–Ω–∏–≥–µ.epub" \
  --language eng \
  --voice "–ø—É—Ç—å/–∫/–≥–æ–ª–æ—Å—É.wav"
```

### –°–ø—Ä–∞–≤–∫–∞ –ø–æ –≤—Å–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º
```bash
./ebook2audiobook.sh --help
```

---

## üöÄ –£—Å–∫–æ—Ä–µ–Ω–∏–µ –Ω–∞ Apple Silicon

–ï—Å–ª–∏ —É –≤–∞—Å Mac —Å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–º M1/M2/M3/M4, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Metal Performance Shaders (MPS)** –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∞—É–¥–∏–æ. –≠—Ç–æ –≤ 5-10 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º CPU.

---

## üìö –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã

### –í—Ö–æ–¥–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –∫–Ω–∏–≥
- EPUB, PDF, MOBI, TXT, HTML, RTF, FB2
- CHM, LIT, PDB, ODT, CBR, CBZ
- PRC, LRF, PML, SNB, CBC, RB, TCR

### –í—ã—Ö–æ–¥–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –∞—É–¥–∏–æ
- M4B (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –∞—É–¥–∏–æ–∫–Ω–∏–≥)
- MP3, M4A, FLAC, WAV, OGG, AAC

---

## üåç –Ø–∑—ã–∫–∏

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è **1158 —è–∑—ã–∫–æ–≤**, –≤–∫–ª—é—á–∞—è:
- –†—É—Å—Å–∫–∏–π (rus)
- –ê–Ω–≥–ª–∏–π—Å–∫–∏–π (eng)
- –ö–∏—Ç–∞–π—Å–∫–∏–π (chi/zho)
- –ò—Å–ø–∞–Ω—Å–∫–∏–π (spa)
- –§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π (fra)
- –ù–µ–º–µ—Ü–∫–∏–π (deu)
- –ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–π (ita)
- –Ø–ø–æ–Ω—Å–∫–∏–π (jpn)
- –ò –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ!

[–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —è–∑—ã–∫–æ–≤](https://dl.fbaipublicfiles.com/mms/tts/all-tts-languages.html)

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

1. **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –¥–æ–ª–≥–∏–π**: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –≤—Ä–µ–º—è, –Ω–∞–±–µ—Ä–∏—Ç–µ—Å—å —Ç–µ—Ä–ø–µ–Ω–∏—è
2. **Homebrew –∑–∞–ø—Ä–æ—Å–∏—Ç –ø–∞—Ä–æ–ª—å**: –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º
3. **–ú–æ–¥–µ–ª–∏ TTS**: –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è –º–æ–¥–µ–ª–∏ (~2-5 GB)
4. **–ù–µ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –∏–∑ –¥—Ä—É–≥–æ–≥–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è**: –ï—Å–ª–∏ —É –≤–∞—Å –∞–∫—Ç–∏–≤–µ–Ω conda/venv, —Å–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `conda deactivate`

---

## üÜò –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –û—à–∏–±–∫–∞: "Command not found"
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π
chmod +x ebook2audiobook.sh
```

### –û—à–∏–±–∫–∞: "Cannot find Homebrew"
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Homebrew –≤—Ä—É—á–Ω—É—é
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∞—É–¥–∏–æ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è MPS (–¥–ª—è Apple Silicon)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–∏–¥–∏—Ç GPU: –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `--device MPS`

### –û—à–∏–±–∫–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
# –û–±–Ω–æ–≤–∏—Ç–µ conda –∏ pip
conda update -n base conda -y
conda update --all -y
```

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ª—é–±—ã–µ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ –∫–Ω–∏–≥–∏ –≤ –∞—É–¥–∏–æ–∫–Ω–∏–≥–∏ —Å –≤—ã—Å–æ–∫–∏–º –∫–∞—á–µ—Å—Ç–≤–æ–º!

**–ü—Ä–∏—è—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è! üìö ‚Üí üéß**
